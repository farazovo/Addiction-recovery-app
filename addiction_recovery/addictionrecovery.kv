<ProfileScreen>:

    person_name:person_name
    weight:weight
    person_height:person_height
    birth:birth
    substance:substance
    goal:goal

    GridLayout:
        cols:1
        size: root.width, root.height
        padding: 20

        Label:
            text: "Profile Page"
            height: 60
            size_hint_y: None
            font_size: 25

        GridLayout:
            cols:2
            spacing: 40

            Label:
                text: "Enter your Name:"
            TextInput:
                id: person_name
                multiline:False

            Label:
                text: "Enter your Weight(kg):"
            TextInput:
                id: weight
                multiline:False

            Label:
                text: "Enter your Height(cm):"
            TextInput:
                id: person_height
                multiline:False

            Label:
                text: "Enter your Date of Birth in\n (year/month/day) format:"
            TextInput:
                id: birth
                multiline:False

            Label:
                text: "Choose the substance and your\n maximum weekly intake target:"

            GridLayout:
                cols:2
                spacing: 10

                Spinner:
                    id:substance
                    text: "Choose Substance"
                    values: ["Alcohol","Coffee","Nicotine"]

                TextInput:
                    id: goal
                    multiline:False


            Button:
                text: "Return to Menu"
                on_press: root.manager.current = 'menu'
            Button:
                text: root.submit_button_text
                on_press: root.Submit()

<LoggingScreen>:

    substance:substance
    amount:amount
    cost:cost
    specific_name:specific_name

    GridLayout:
        cols:1

        size: root.width, root.height

        Label:
            text: "Please enter your intake below:"

        GridLayout:
            cols:2

            GridLayout:
                cols:1
                size: root.width, root.height

                GridLayout:
                    cols:2

                    Label:
                        text: "Select the Substance:"
                    Spinner:
                        id:substance
                        text: "Choose Substance"
                        values: ["Alcohol","Coffee","Nicotine"]
                        on_text: root.spinner_clicked(substance.text)

                    Label:
                        text: "Enter the amount taken:"
                    TextInput:
                        id: amount
                        multiline:False

                    Label:
                        text: "Enter how much it cost (Â£):"
                    TextInput:
                        id: cost
                        multiline:False

                    Label:
                        text: "Enter the specific type (if any):"
                    TextInput:
                        id: specific_name
                        multiline:False

        GridLayout:
            cols:2

            Label:
                text: "Presets:"

            SubstancePresets:
                rows: 4
                cols: 1

        GridLayout:
            cols:2

            Button:
                text: "Return to Menu"
                on_press: root.manager.current = 'menu'

            Button:
                text: "Submit"
                on_press: root.Submit()

<GoalsScreen>:
    GridLayout:
        cols:1
        size: root.width, root.height
        padding: 20
        spacing:30

        Label:
            text: "Goals Page"
            height: 60
            size_hint_y: None
            font_size: 25

        GridLayout:
            cols:2
            spacing:30

            Label:
                text: "Target Substance:"

            Label:
                text: root.target_substance

            Label:
                text: "Target Weekly Intake:"

            Label:
                text: root.weekly_intake

            Label:
                text: "Target Set On:"

            Label:
                text: root.target_set_on

            Label:
                text: "Total Days Target Achieved:"

            Label:
                text: root.total_days


            Button:
                text: "Return to Menu"
                on_press: root.manager.current = 'menu'

            Button:
                text: "Update Goal"
                on_press: root.manager.current = 'profile'

<GraphScreen>:
    GridLayout:
        cols:1

        SubstanceGraph
        CostGraph

        GraphSubstanceButtons

        Button:
            text: "Return to Menu"
            on_press: root.manager.current = 'menu'

<MenuScreen>:
    GridLayout:
        rows:1

        Image:
            source: root.image_source

        GridLayout:
            cols:1

            Label:
                text: "Welcome to our Addiction Recovery App"

            Button:
                text: "Profile"
                on_press: root.manager.current = 'profile'

            Button:
                text: "Goals"
                on_press: root.manager.current = 'goals'

            Button:
                text: "Logging"
                on_press: root.manager.current = 'logging'


            Button:
                text: "Graphs"
                on_press: root.manager.current = 'graph'

            Button:
                text: "Exit App"
                on_press: app.stop()
